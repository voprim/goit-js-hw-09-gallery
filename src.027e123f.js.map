{"version":3,"sources":["index.js"],"names":["galleryItems","preview","original","description","refs","galleryList","document","querySelector","modal","modalCloseBtn","modalImage","modalOverlay","galleryMarkup","createGalleryMarkup","elements","map","join","changeSrcAlt","argSrc","argAlt","src","alt","onOpenModal","evt","target","nodeName","preventDefault","classList","add","dataset","source","window","addEventListener","onEscKeyPress","onArrowLeftPress","onArrowRightPress","onCloseModal","remove","removeEventListener","onBOverlayClick","currentTarget","event","code","insertAdjacentHTML"],"mappings":";;;AA0KC,aA1KD,QAAA,oBAEA,MAAMA,EAAe,CACjB,CACIC,QACI,8CACJC,SACI,+CACJC,YAAa,mBAEjB,CACIF,QACI,oCACJC,SACI,oCACJC,YAAa,6BAEjB,CACIF,QACI,gCACJC,SACI,gCACJC,YAAa,qBAEjB,CACIF,QACI,kCACJC,SACI,kCACJC,YAAa,iBAEjB,CACIF,QACI,oCACJC,SACI,oCACJC,YAAa,oBAEjB,CACIF,QACI,oCACJC,SACI,oCACJC,YAAa,yBAEjB,CACIF,QACI,mCACJC,SACI,mCACJC,YAAa,yBAEjB,CACIF,QACI,oCACJC,SACI,oCACJC,YAAa,oBAEjB,CACIF,QACI,qCACJC,SACI,qCACJC,YAAa,yBAKfC,EAAO,CACTC,YAAaC,SAASC,cAAc,eACpCC,MAAOF,SAASC,cAAc,gBAC9BE,cAAeH,SAASC,cAAc,wCACtCG,WAAYJ,SAASC,cAAc,oBACnCI,aAAcL,SAASC,cAAc,uBAKnCK,EAAgBC,EAAoBb,GAG1C,SAASa,EAAoBC,GAClBA,OAAAA,EACFC,IAAI,EAAGd,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,qFAKvBD,+DAICD,0BACQC,kBACRC,mCAMJa,KAAK,IAOd,SAASC,EAAaC,EAAQC,GAEtBf,OAAAA,EAAKM,WAAWU,IAAMF,EACtBd,EAAKM,WAAWW,IAAMF,EAI9B,SAASG,EAAYC,GACW,QAAxBA,EAAIC,OAAOC,WAGfF,EAAIG,iBAEJtB,EAAKI,MAAMmB,UAAUC,IAAI,WAEzBX,EAAaM,EAAIC,OAAOK,QAAQC,OAAQP,EAAIC,OAAOH,KAMnDU,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,kBACnCH,OAAOC,iBAAiB,UAAWG,oBAMvC,SAASC,IACLhC,EAAKI,MAAMmB,UAAUU,OAAO,WAE5BpB,EAAa,GAAI,IAMjBc,OAAOO,oBAAoB,UAAWL,GACtCF,OAAOO,oBAAoB,UAAWJ,kBACtCH,OAAOO,oBAAoB,UAAWH,mBAO1C,SAASI,EAAgBhB,GACjBA,EAAIiB,gBAAkBjB,EAAIC,QAC1BY,IAMR,SAASH,EAAcQ,GACE,WACJA,EAAMC,MAGnBN,IAxFRhC,EAAKC,YAAYsC,mBAAmB,YAAa/B,GA0BjDR,EAAKC,YAAY2B,iBAAiB,QAASV,GA6B3ClB,EAAKK,cAAcuB,iBAAiB,QAASI,GAkB7ChC,EAAKO,aAAaqB,iBAAiB,QAASO","file":"src.027e123f.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nconst galleryItems = [\n    {\n        preview:\n            'images/himilayan-blue-poppy-4202825_340.jpg',\n        original:\n            'images/himilayan-blue-poppy-4202825_1280.jpg',\n        description: 'Hokkaido Flower',\n    },\n    {\n        preview:\n            'images/container-4203677__340.jpg',\n        original:\n            'images/container-4203677_1280.jpg',\n        description: 'Container Haulage Freight',\n    },\n    {\n        preview:\n            'images/beach-4206785__340.jpg',\n        original:\n            'images/beach-4206785_1280.jpg',\n        description: 'Aerial Beach View',\n    },\n    {\n        preview:\n            'images/flowers-1835619__340.jpg',\n        original:\n            'images/flowers-1835619_1280.jpg',\n        description: 'Flower Blooms',\n    },\n    {\n        preview:\n            'images/mountains-3674334__340.jpg',\n        original:\n            'images/mountains-3674334_1280.jpg',\n        description: 'Alpine Mountains',\n    },\n    {\n        preview:\n            'images/landscape-4208571__340.jpg',\n        original:\n            'images/landscape-4208571_1280.jpg',\n        description: 'Mountain Lake Sailing',\n    },\n    {\n        preview:\n            'images/the-alps-4209272__340.jpg',\n        original:\n            'images/the-alps-4209272_1280.jpg',\n        description: 'Alpine Spring Meadows',\n    },\n    {\n        preview:\n            'images/landscape-4208255__340.jpg',\n        original:\n            'images/landscape-4208255_1280.jpg',\n        description: 'Nature Landscape',\n    },\n    {\n        preview:\n            'images/lighthouse-4208843__340.jpg',\n        original:\n            'images/lighthouse-4208843_1280.jpg',\n        description: 'Lighthouse Coast Sea',\n    },\n];\n\n\nconst refs = {\n    galleryList: document.querySelector('.js-gallery'), //общий родитель картинок\n    modal: document.querySelector('.js-lightbox'), //модальное окно\n    modalCloseBtn: document.querySelector('button[data-action=\"close-lightbox\"]'), //кнопка закрытия модального окна\n    modalImage: document.querySelector('.lightbox__image'),\n    modalOverlay: document.querySelector('.lightbox__overlay'), //серый фон в модалке\n};\n\n// Создание и рендер разметки по массиву данных и предоставленному шаблону.\n\nconst galleryMarkup = createGalleryMarkup(galleryItems);\nrefs.galleryList.insertAdjacentHTML('beforeend', galleryMarkup);\n\nfunction createGalleryMarkup(elements) {\n    return elements\n        .map(({ preview, original, description }) => {\n            return `\n    <li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      alt=\"${description}\"\n    />\n  </a>\n</li>\n    `;\n        })\n        .join('');\n}\n\n// Реализация делегирования на галерее ul.js-gallery и получение url большого изображения.\n\nrefs.galleryList.addEventListener('click', onOpenModal);\n\nfunction changeSrcAlt(argSrc, argAlt) {\n    return (\n        refs.modalImage.src = argSrc,\n        refs.modalImage.alt = argAlt\n    );\n}\n\nfunction onOpenModal(evt) {\n    if (evt.target.nodeName !== 'IMG') {\n        return;\n    }\n    evt.preventDefault(); //отмена перехода по ссылке\n\n    refs.modal.classList.add('is-open'); // Открытие модального окна по клику на элементе галереи.\n\n    changeSrcAlt(evt.target.dataset.source, evt.target.alt);\n\n    //refs.modalImage.src = evt.target.dataset.source; // Подмена значения атрибута src элемента img.lightbox__image.\n    //refs.modalImage.alt = evt.target.alt;\n\n\n    window.addEventListener('keydown', onEscKeyPress);\n    window.addEventListener('keydown', onArrowLeftPress);\n    window.addEventListener('keydown', onArrowRightPress);\n}\n\n// Закрытие модального окна по клику на кнопку button[data-action=\"close-lightbox\"].\nrefs.modalCloseBtn.addEventListener('click', onCloseModal);\n\nfunction onCloseModal() {\n    refs.modal.classList.remove('is-open');\n\n    changeSrcAlt('', '');\n\n    //refs.modalImage.src = ''; // Очистка значения атрибута src элемента img.lightbox__image.\n    //refs.modalImage.alt = '';\n\n\n    window.removeEventListener('keydown', onEscKeyPress);\n    window.removeEventListener('keydown', onArrowLeftPress);\n    window.removeEventListener('keydown', onArrowRightPress);\n}\n\n// Закрытие модального окна по клику на div.lightbox__overlay.\n\nrefs.modalOverlay.addEventListener('click', onBOverlayClick);\n\nfunction onBOverlayClick(evt) {\n    if (evt.currentTarget === evt.target) {\n        onCloseModal();\n    }\n}\n\n// Закрытие модального окна по нажатию клавиши ESC.\n\nfunction onEscKeyPress(event) {\n    const ESC_KEY_CODE = 'Escape';\n    const isEscKey = event.code === ESC_KEY_CODE;\n\n    if (isEscKey) {\n        onCloseModal();\n    }\n}\n"]}